ggplot((subset(combined_dendro, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = series)+
geom_line(aes(y=gro_tot), color = series)+
geom_line(aes(y=twd), color = series)
ggplot((subset(combined_dendro, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "series")+
geom_line(aes(y=gro_tot), color = "series")+
geom_line(aes(y=twd), color = "series")
ggplot((subset(combined_dendro, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = combined_dendro$series)+
geom_line(aes(y=gro_tot), color = series)+
geom_line(aes(y=twd), color = series)
ggplot((subset(combined_dendro, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = combined_dendro$series)+
geom_line(aes(y=gro_tot), color = combined_dendro$series)+
geom_line(aes(y=twd), color = combined_dendro$series)
#plotting
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red4")
ggplot(subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey70")+
geom_line(aes(y=gro_tot), color = "green")+
geom_line(aes(y=twd), color = "red"))
ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey70")+
geom_line(aes(y=gro_tot), color = "green")+
geom_line(aes(y=twd), color = "red")
#plotting
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
xlab="Date"
#plotting
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
xlab="Date"
View(all_data_140)
p + xlab(“Date of 2022”)
p + xlab(“Date of 2022”)
p + xlab(“Date”)
xlab(“Date”)
+xlab(“Date”)
p + labs(x = “Date of 2022”, y = “radial change (um)”)
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
p + labs(x = “Date of 2022”, y = “radial change (um)”)
replace("ts","Date of 2022")
theme(
axis.title = element_text(),         # Change both x and y axis titles
axis.title.x = Date_of_2022(),       # Change x axis title only
axis.title.x.top = element_text(),   # For x axis label on top axis
axis.title.y = element_text(),       # Change y axis title only
axis.title.y.right = element_text(), # For y axis label on right axis
)
# Default plot
print(p)
ggplot<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")+ labs(x="Date of 2022", y="Displacement of Dendrometer (um)")
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
+                  geom_line(aes(y=value), color = "grey40")+
+                  geom_line(aes(y=gro_tot), color = "seagreen")+
+                  geom_line(aes(y=twd), color = "red") labs(x="Date of 2022", y="Displacement of Dendrometer (um)")
ggplot<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")+
labs(x="Date of 2022", y="Displacement of Dendrometer (um)")
print(ggplot+labs(x="Date of 2022", y="Displacement of Dendrometer (um)"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit of Douglas-Fir 140"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit /n of Douglas-Fir 140"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit /nof Douglas-Fir 140"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 140"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 140"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 140"))
print(ggplot+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 140"))
ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey70")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
print(ggplot+labs(x="Date of 2022", y="Displacement of Dendrometer (um)"))
133plot<-ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
plot_133<-ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey70")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 133
ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
plot_133<-ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
print(plot_133+labs(x="Date of 2022", y="Displacement of Dendrometer (um)"))
print(plot_133+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 133"))
print(plot_133+labs(x="Date of 2022", y="Displacement of Dendrometer (um)"))
print(plot_133+labs(title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 133"))
print(plot_133+labs(x="Date of 2022", y="Displacement of Dendrometer (um)",title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 133"))
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
plot140<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#labeling the graph 140
print(ggplot+labs(x="Date of 2022", y="Displacement of Dendrometer (um)",title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 140"))
plot140<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#labeling the graph 140
print(plot140+labs(x="Date of 2022", y="Displacement of Dendrometer (um)",title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 140"))
legend(Oct, 2000, legend=c("Overall Growth", "Daily Shrinkage and Growth", "Tree Water Deficit"),
col=c("seagreen", "grey40", "red"), lty=1:2, cex=0.8)
legend("Oct", 2000, legend=c("Overall Growth", "Daily Shrinkage and Growth", "Tree Water Deficit"),col=c("seagreen", "grey40", "red"), lty=1:2, cex=0.8)
legend('middleright', legend=c(("Overall Growth", "Daily Shrinkage and Growth", "Tree Water Deficit"),col=c("seagreen", "grey40", "red"), lty=1)
legend('middleright', legend=c("Overall Growth", "Daily Shrinkage and Growth", "Tree Water Deficit"),col=c("seagreen", "grey40", "red"), lty=1)
legend('right', legend=c("Overall Growth", "Daily Shrinkage and Growth", "Tree Water Deficit"),col=c("seagreen", "grey40", "red"), lty=1)
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
library(treenetproc)
library(zoo)
library(chron)
library(viridis)
library(dplyr)
library(ggplot2)
library(lubridate)
#read in data for dendros
d133 <- read.csv("Cleaning/dendro_133_cleaned.csv")
d133 <- d133 %>% mutate(ts = ymd_hms(ts))
d140 <- read.csv("Cleaning/dendro_140_cleaned.csv")
d140 <- d140 %>% mutate
#subset dendro 133 to equalize
d133 <- d133[-1,]
str(d140)
combined_dendro <- cbind(d133,d140)
ggplot((subset(combined_dendro, ts < as.POSIXct("2022-10-23 00:00") & ts>as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color="grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#read in data for dendros
d133 <- read.csv("Cleaning/dendro_133_cleaned.csv")
d133 <- d133 %>% mutate(ts = ymd_hms(ts))
d140 <- read.csv("Cleaning/dendro_140_cleaned.csv")
d140 <- d140 %>% mutate
#subset dendro 133 to equalize
d133 <- d133[-1,]
str(d140)
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
ggplot((subset(combined_dendro, ts < as.POSIXct("2022-10-23 00:00") & ts>as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color="grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color ="red")
plot140<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 133
ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
plot_133<-ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
print(plot_133+labs(x="Date of 2022", y="Displacement of Dendrometer (um)",title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 133"))
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#read in data for dendros
d133 <- read.csv("Cleaning/dendro_133_cleaned.csv")
d133 <- d133 %>% mutate(ts = ymd_hms(ts))
d140 <- read.csv("Cleaning/dendro_140_cleaned.csv")
d140 <- d140 %>% mutate
#subset dendro 133 to equalize
d133 <- d133[-1,]
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#plotting 133
ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
plot_133<-ggplot((subset(d133, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
print(plot_133+labs(x="Date of 2022", y="Displacement of Dendrometer (um)",title="Growth, Dendrometer Displacement, and Tree Water Deficit
of Douglas-Fir 133"))
print(plot_133+labs(x="Date of 2022", y="Displacement Value (um)",title="Growth, Displacement Value, and Tree Water Deficit
of Douglas-Fir 133"))
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
d140 <- read.csv("Cleaning/dendro_140_cleaned.csv")
d140 <- d140 %>% mutate(ts = ymd_hms(ts))
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
plot140<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#labeling the graph 140
print(plot140+labs(x="Date of 2022", y="Displacement Value (um)",title="Growth, Displacement Value, and Tree Water Deficit
of Douglas-Fir 140"))
colors <- c("Growth" = "seagreen", "Tree Water Deficit (TWD)" = "red", "Displacement Value of Dendrometer" = "grey40")
library(tidyr)
download(tidyr)
install.package("tidyr")
install.packages("tidyr")
library(tidyr)
colors <- c("Growth" = "seagreen", "Tree Water Deficit (TWD)" = "red", "Displacement Value of Dendrometer" = "grey40") library(tidyr)
colors <- c("Growth" = "seagreen", "Tree Water Deficit (TWD)" = "red", "Displacement Value of Dendrometer" = "grey40")
df <- gather(d140, key = measure, value = Rate,
c("Growth", "Tree Water Deficit (TWD)", "Displacement Value of Dendrometer"))
d140 <- read.csv("Cleaning/dendro_140_cleaned.csv")
d140 <- d140 %>% mutate(ts = ymd_hms(ts))
find(d140)
open(d140)
df <- gather(d140, key = measure, value = Rate,
c("Growth", "Tree Water Deficit (TWD)", "Displacement Value of Dendrometer"))
#add legend but this isn't working.
legend('right', legend=c("Growth", "Displacement of Dendrometer", "Tree Water Deficit (TWD)"),col=c("seagreen", "grey40", "red"), lty=1)
#add legend but this isn't working.
legend('right', legend=c("Growth", "Displacement of Dendrometer", "Tree Water Deficit (TWD)"),col=c("seagreen", "grey40", "red"), lty=1)
#plotting 140
ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
plot140<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts))+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
#labeling the graph 140
print(plot140+labs(x="Date of 2022", y="Displacement Value (um)",title="Growth, Displacement Value, and Tree Water Deficit
of Douglas-Fir 140"))
#add legend but this isn't working.
legend('right', legend=c("Growth", "Displacement of Dendrometer", "Tree Water Deficit (TWD)"),col=c("seagreen", "grey40", "red"), lty=1)
#add legend but this isn't working.
gglegend('right', legend=c("Growth", "Displacement of Dendrometer", "Tree Water Deficit (TWD)"),col=c("seagreen", "grey40", "red"), lty=1)
plot140<-ggplot((subset(d140, ts < as.POSIXct("2022-10-23 00:00") & ts > as.POSIXct("2022-06-29 00:00"))), aes(x=ts), fill=ts)+
geom_line(aes(y=value), color = "grey40")+
geom_line(aes(y=gro_tot), color = "seagreen")+
geom_line(aes(y=twd), color = "red")
install.packages("xts")
install.packages("tsbox")
install.packages("forecast")
library(xts)
library(tsbox)
library(forecast)
library(lubridate)
#import raw data
Slice_weather_raw1 <- read.csv("Raw/Slice_Butte_2023_05_06/SLICE_BUTTE_u30_20230506.csv",skip = 1, header = T,sep = ',', stringsAsFactors = F)
colnames(Slice_weather_raw1) <- c("obs","Datetime","Rain","Soiltemp_10cm","Soiltemp_50cm","Airtemp_2m","RH","SM_10cmC","SM_10cmB","SM_50cmC","SM_50cmB","SM_10cmA","SM_50cmA","Airtemp_3m","Airtemp_1m")
Slice_weather_raw1 <- Slice_weather_raw1 %>% mutate(Datetime = mdy_hms(Datetime))
Slice_weather_raw2 <- read.csv("Raw/Slice_Butte_2023_05_06/SLICE-2_u30_20230506.csv", skip = 1, header = T, sep = ',', stringsAsFactors = F)
colnames(Slice_weather_raw2) <- c("obs","Datetime","SM_50cmC","Rain","Airtemp_2m","RH","Soiltemp_50cm","Soiltemp_10cm","Airtemp_3m","Airtemp_1m","SM_10cmB","SM_50cmB","SM_10cmA","SM_50cmA","SM_10cmC")
Slice_weather_raw2 <- Slice_weather_raw2 %>% mutate(Datetime = mdy_hms(Datetime))
Slice_ms_sun <- read.csv("Raw/Slice_Butte_2023_05_06/slicems_20230506.csv", skip = 1, header = T, sep = ',')
colnames(Slice_ms_sun) <- c("obs","Datetime","Airtemp_1mB","RainB","Leaf_wetness_sun")
Slice_ms_sun <- Slice_ms_sun %>% mutate(Datetime = mdy_hms(Datetime))
Slice_ms_lower_SM <- read.csv("Raw/Slice_Butte_2023_05_06/slicesm_ms3_20230506.csv", skip = 1, header = T, sep = ',', stringsAsFactors = F)
colnames(Slice_ms_lower_SM) <- c("obs","Datetime","lower_SM_100cmA","lower_SM_100cmB","lower_SM_20cmA","lower_SM_20cmB")
Slice_ms_lower_SM <- Slice_ms_lower_SM %>% mutate(Datetime = mdy_hms(Datetime))
Slice_ms_shade <- read.csv("Raw/Slice_Butte_2023_05_06/slicmix_ms2_20230506.csv", skip = 1, header = T, sep = ',', stringsAsFactors = F)
colnames(Slice_ms_shade) <- c("obs","Datetime","Leaf_wetness_shade","Air_temp_1m_shade","Air_temp_1m_shade_C","RH_shade","Air_temp_1m_shade_C_B","RH_shade_B")
Slice_ms_shade <- Slice_ms_shade %>% mutate(Datetime = mdy_hms(Datetime))
Slice_ms_upper_SM <- read.csv("Raw/z6B00953 06May23-1018.csv",skip = 2, stringsAsFactors = F)
colnames(Slice_ms_upper_SM) <- c("Datetime","upper_SM_100cmA","upper_SM_100cmB","upper_SM_100cmC","upper_SM_20cmA","upper_SM_20cmB","upper_SM_20cmC","batt","batt_V")
str(Slice_ms_upper_SM)
Slice_ms_upper_SM$upper_SM_20cmA <- as.numeric(Slice_ms_upper_SM$upper_SM_20cmA)
Slice_ms_upper_SM<- Slice_ms_upper_SM %>% mutate(Datetime = mdy_hm(Datetime))
#calculate VPD from temp and RH
Slice_weather_raw1$Airtemp_2m_C <- (Slice_weather_raw1$Airtemp_2m-32)*(5/9)
Slice_weather_raw1$SVP <- 6.1078*exp((17.2694*Slice_weather_raw1$Airtemp_2m_C)/(Slice_weather_raw1$Airtemp_2m_C+273.3))
Slice_weather_raw1$VPD <- (Slice_weather_raw1$SVP-(Slice_weather_raw1$RH*(Slice_weather_raw1$SVP/100)))/10
Slice_weather_raw1_full <- subset(Slice_weather_raw1, Datetime < as.POSIXct("2022-10-23 00:00") & Datetime > as.POSIXct("2022-06-29 00:00"))
Slice_weather_raw2_full <- subset(Slice_weather_raw2, Datetime < as.POSIXct("2022-10-23 00:00") & Datetime > as.POSIXct("2022-06-29 00:00"))
#plot
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Rain, color = "blue"))
Slice_shade_full <- subset(Slice_ms_shade, Datetime < as.POSIXct("2022-10-23 00:00") & Datetime > as.POSIXct("2022-06-29 00:00"))
Slice_SM_full <- subset(Slice_ms_upper_SM, Datetime < as.POSIXct("2022-10-23 00:00") & Datetime > as.POSIXct("2022-06-29 00:00"))
ggplot(Slice_shade_full, aes(x=Datetime))+
geom_line(aes(y=Air_temp_1m_shade))
ggplot(Slice_shade_full, aes(x=Datetime))+
geom_line(aes(y=Leaf_wetness_shade))
ggplot(Slice_SM_full, aes(x=Datetime))+
geom_line(aes(y=upper_SM_100cmA, color = "deepA"))+
geom_line(aes(y=upper_SM_100cmB, color = "deepB"))+
geom_line(aes(y=upper_SM_100cmC, color = "deepC"))+
geom_line(aes(y=upper_SM_20cmA, color = "shallowA"))+
geom_line(aes(y=upper_SM_20cmB, color = "shallowB"))+
geom_line(aes(y=upper_SM_20cmC, color = "shallowC"))
#compile into daily max and min for temp
Slice_daily_temp_set <- subset(Slice_weather_raw1_full, select = c("Datetime","Airtemp_2m"))
Slice_max_temp <- apply.daily(Slice_daily_temp_set, max)
Slice_min_temp <- apply.daily(Slice_daily_temp_set, min)
#compile into daily max and min for temp
Slice_daily_VPD_set <- subset(Slice_weather_raw1_full, select = c("Datetime","VPD"))
Slice_max_VPD <- apply.daily(Slice_daily_VPD_set, max)
Slice_min_VPD <- apply.daily(Slice_daily_VPD_set, min)
#compile into daily rain totals
Slice_rain_set <- subset(Slice_weather_raw1_full, select = c("Datetime","Rain"))
Slice_rain <- apply.daily(Slice_rain_set, sum)
#compile into daily mean SM
Slice_SM_full$deepSM <- (Slice_SM_full$upper_SM_100cmA + Slice_SM_full$upper_SM_100cmB + Slice_SM_full$upper_SM_100cmC)/3
Slice_SM_full$shallowSM <- (Slice_SM_full$upper_SM_20cmA + Slice_SM_full$upper_SM_20cmB + Slice_SM_full$upper_SM_20cmC)/3
Slice_daily_SM_deep_set <- subset(Slice_SM_full, select = c("Datetime","deepSM"))
Slice_daily_SM_shallow_set <- subset(Slice_SM_full, select = c("Datetime","shallowSM"))
Slice_dailySM_deep <- apply.daily(Slice_daily_SM_deep_set, mean)
Slicedaily_SM_shallow<- apply.daily(Slice_daily_SM_shallow_set, mean)
compiled_dat_2022 <- cbind(Slice_max_temp,Slice_min_temp,Slice_max_VPD, Slice_min_VPD, Slice_rain, Slice_dailySM_deep, Slicedaily_SM_shallow)
colnames(compiled_dat_2022) <- c("Max_temp_F","Min_temp_F","Max_VPD_kPa","Min_VPD_kPa","Precip_in","SM_1m_m3/m3","SM_20cm_m3/m3")
write.csv(compiled_dat_2022,file = "Cleaning/2022_weather_cleaned.csv")
#plot
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
#plot
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature at 2m (/u00B0F)")
#plot
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature at 2m (/u00B0F)")
#plot
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature at 2m (°F)")
#plot
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature at 2m (°F)")+
theme(legend.position='none')
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure Deficit(kPa)")+
theme(legend.position='none')
ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure Deficit (kPa)")+
theme(legend.position='none')
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature at 2m (°F)")+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure Deficit (kPa)")+
theme(legend.position='none')
#arrange these plots on one figure
figure2 <- ggarrange(Temp, VPD,
labels=c("A","B"),
ncol=1, nrow=2)
#arrange these plots on one figure
install.packages("ggpubr")
library(ggpubr)
figure2 <- ggarrange(Temp, VPD,
labels=c("A","B"),
ncol=1, nrow=2)
figure 2
figure2
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature(°F)")+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure
Deficit (kPa)")+
theme(legend.position='none')
figure2 <- ggarrange(Temp, VPD,
labels=c("A","B"),
ncol=1, nrow=2)
figure2
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(x="Date of 2022", y="Air Temperature(°F)")+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure
Deficit (kPa)")+
theme(legend.position='none')
figure2 <- ggarrange(Temp, VPD,
labels=c("A","B"),
ncol=1, nrow=2)
figure2
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(y="Air Temperature(°F)")+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure
Deficit (kPa)")+
theme(legend.position='none')
figure2 <- ggarrange(Temp, VPD,
ncol=1, nrow=2)
figure2
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(y="Air Temperature(°F)", x='none')+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure
Deficit (kPa)")+
theme(legend.position='none')
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(y="Air Temperature(°F)", x='none')+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure
Deficit (kPa)")+
theme(legend.position='none')
figure2 <- ggarrange(Temp, VPD,
ncol=1, nrow=2)
figure2
#plot
Temp<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=Airtemp_2m, color = "red5"))+
labs(y="Air Temperature(°F)", x=' ')+
theme(legend.position='none')
VPD<-ggplot(Slice_weather_raw1_full, aes(x=Datetime))+
geom_line(aes(y=VPD, color = "red5"))+
labs(x="Date of 2022", y="Vapor Pressure
Deficit (kPa)")+
theme(legend.position='none')
#arrange these plots on one figure
figure2 <- ggarrange(Temp, VPD,
ncol=1, nrow=2)
figure2
print(figure2+labs(title="Temperature and Vapor Pressure Deficit at Site of Douglas-Firs"))
figure2
print(figure2+lab(title="Temperature and Vapor Pressure Deficit at Site of Douglas-Firs"))
print(figure2+labs(title="Temperature and Vapor Pressure Deficit at Site of Douglas-Firs"))
